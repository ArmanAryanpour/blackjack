(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(9895)}])},9895:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return eB}});var n=a(5893),i=a(1351),c=a(4332),r=a(5198);function s(e){var e=null!==e?e:(0,i.Z)(TypeError("Cannot destructure undefined"));return(0,n.jsx)("div",{className:" h-[5%] bg-gray-800 bg-opacity-50 flex justify-center items-center",children:(0,n.jsx)(c.M,{exitBeforeEnter:!0,children:(0,n.jsx)(r.E.h1,{variants:{hidden:{y:-20,opacity:0},show:{y:0,opacity:1},exit:{y:-20,opacity:0}},initial:"hidden",animate:"show",exit:"exit",className:"text-center text-white ",children:"Nice Hit"},"message")})})}var l=a(7294);function o(e){var t,a,i,c=e.children,r=(a=(t=(0,l.useState)({width:void 0,height:void 0}))[0],i=t[1],(0,l.useEffect)(function(){var e=function(){i({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}},[window.innerWidth,window.innerHeight]),a);return(0,n.jsx)("div",{className:" overflow-hidden bg-green-700 flex flex-col  font-mono  ".concat(void 0==r.height&&"h-screen"),style:{height:"".concat(r.height,"px")},children:c})}function u(e){var t=e.children,a=e.isDealer;return(0,n.jsx)("div",{className:"select-none mx-auto items-center flex-col justify-between flex py-4 max-w-xl w-full px-5 ".concat(a?"h-[35%] flex-col-reverse":"h-[35%]"," "),children:t})}function d(e){var t=e.isDealer,a=e.id,i=e.isActive,c=e.bets,s=e.balance,l=e.name,o=e.img,d=e.children;return(0,n.jsxs)(u,{isDealer:t,isActive:i,children:[i&&d,!i&&(0,n.jsx)("div",{className:"flex w-full items-center ".concat(t&&"pointer-events-none"," ").concat(i?"justify-between pointer-events-none":"justify-center"," space-x-2  relative min-w-[100px]   "),children:(0,n.jsxs)("div",{className:"items-center flex flex-col ".concat(t&&"flex-col-reverse space-y-reverse"," space-y-2"),children:[c&&(0,n.jsx)(r.E.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1,scale:i?.75:.85},exit:{y:-50,opacity:0},className:"flex my-auto space-x-5  flex-wrap",children:c},"".concat(a,"-betting-chips")),l&&(0,n.jsx)(r.E.div,{layout:"position",initial:{y:-50},layoutId:"".concat(a,"-name"),animate:{y:0},className:"text-green-700 w-min  text-xs  rounded-full text-center truncate  px-4 bg-white py-0.5 ".concat(t&&"!mt-2"),children:l},"".concat(a,"-name")),(0,n.jsxs)(r.E.div,{initial:{scale:0},animate:{scale:1},layoutId:"".concat(a,"-avatar"),className:"w-20 h-20 scale-90 relative shadow rounded-full ",children:[(0,n.jsx)("img",{alt:l,src:o,className:"w-full p-1 z-10 absolute h-full shadow-2xl rounded-full "}),(0,n.jsx)("div",{className:"rounded-full left-0 -bottom-1 right-0 h-full scale-95 bg-white absolute"})]},"".concat(a,"-avatar"))]})}),s&&(0,n.jsx)(r.E.div,{initial:{y:50},animate:{y:0,scale:i?.85:1},exit:{y:50},className:"flex space-x-5 ".concat(t&&"pointer-events-none"," pt-2 ").concat(i&&"pointer-events-none left-0 right-0  "," "),children:s},"".concat(a,"-balance-chips"))]})}var m=a(1799),f=a(9396),h=a(9534),v=function(e){var t=e.children,a=(0,h.Z)(e,["children"]);return(0,n.jsx)(r.E.div,(0,f.Z)((0,m.Z)({layout:"position",className:"flex justify-center relative h-[15%] items-center "},a),{children:(0,n.jsx)(c.M,{children:t})}))},g=function(e){var t=e.index,a=e.isRed,i=(0,h.Z)(e,["index","isRed"]);return(0,n.jsx)(r.E.div,(0,m.Z)({layout:"position",initial:{left:-100},animate:{transition:{duration:.75},left:"".concat(1.25*t+5,"px"),top:[a?100:-100,0,a?-100:100,0]},className:"absolute flex top-0 bottom-0 "},i))};function x(e){var t=e.suit,a=e.name,i=e.show,s=void 0!==i&&i,l="diamonds"===t||"hearts"===t,o=" ".concat(l?"fill-red-500":"fill-black","  m-auto \nbg-white\nh-20 w-[3.5rem] p-1\nmd:h-24 md:w-16 \nlg:h-28 lg:w-20 rounded-md justify-center flex items-center border-1 border-gray-300 border ");return(0,n.jsxs)(c.M,{exitBeforeEnter:!0,children:[s&&(0,n.jsx)(r.E.div,{initial:{opacity:0},animate:{rotate:[0,2,-2,0],opacity:1},className:o,children:(0,n.jsx)("img",{alt:"front",src:"/icons/".concat(t,"-").concat(a,".svg"),className:"w-full"})},"front-".concat(t,"-").concat(a)),!s&&(0,n.jsx)(r.E.div,{className:o,children:(0,n.jsx)("img",{alt:"back",src:"/icons/".concat(l?"red":"black","-back.svg"),className:"w-full"})},"back-".concat(t,"-").concat(a))]})}var p=function(e){var t=e.children,a=(0,h.Z)(e,["children"]);return(0,n.jsx)(r.E.div,(0,f.Z)((0,m.Z)({layout:"position",className:" flex-1 space-y-2 sm:flex-initial flex-col text-center flex justify-center"},a),{children:t}))};function y(e){var t=e.hand,a=e.showCards;return(0,n.jsx)("div",{className:"flex space-x-1 relative justify-center ",children:(0,n.jsx)(c.M,{children:t.map(function(e,t){return(0,n.jsx)(r.E.div,{layout:"position",id:"card-".concat(e.suit,"-").concat(e.name,"-").concat(e.id),layoutId:"card-".concat(e.suit,"-").concat(e.name,"-").concat(e.id),initial:{rotate:0,scale:.9},animate:{rotate:360,scale:[1.1,1]},transition:{duration:.75},children:(0,n.jsx)(x,(0,f.Z)((0,m.Z)({},e),{show:0==t||a}))},"card-".concat(e.suit,"-").concat(e.name,"-").concat(e.id))})})})}function B(e){var t=e.totals,a=t.length>1&&t[0]!==t[1]&&t[1]<22;return(0,n.jsx)("div",{className:"flex w-full items-center justify-center",children:(0,n.jsxs)("span",{className:"bg-gray-800 rounded-lg bg-opacity-70 text-gray-100 p-2",children:[t[0],a&&", ".concat(t[1])]})})}var b=a(797),j=a(7632),G=[{name:"5",value:5,default:20},{name:"10",value:10,default:10},{name:"50",value:50,default:2},{name:"100",value:100,default:2},{name:"500",value:500,default:1},],w=function(e,t){return Array(e).fill(t).map(function(e){return"chip-".concat(t,"-").concat((0,j.Z)())})},k=function(e,t){for(var a={bills:{},total:0},n=0;n<G.length;n++){var i=G[n];e?(a.bills[i.name]=w(t?100*G[n].default:G[n].default,i.name),a.total+=i.value*a.bills[i.name].length):a.bills[i.name]=[]}return a},A=function(e){return{balance:k(!0,e),bet:k(!1,e)}},I=a(6486),N=a.n(I),Z=function(e,t){return{getAllBetBills:function(){var e={};return t().getAccountIds().forEach(function(a){t().getBetBillKeys(a).forEach(function(n){e[n]||(e[n]=[]),e[n]=e[n].concat(t().getBetBills(a,n))})}),e},transfetBetToBalance:function(e,t,a){var n=a.accounts[t],i=a.accounts[e];Object.keys(i.bet.bills).forEach(function(e){i.bet.bills[e].forEach(function(t){n.balance.bills[e].push(t)}),i.bet.bills[e]=[]}),n.balance.total+=i.bet.total,i.bet.total=0},returnBetToBalance:function(e,t){var a=t.accounts[e];Object.keys(a.bet.bills).forEach(function(e){a.bet.bills[e].forEach(function(t){a.balance.bills[e].push(t)}),a.bet.bills[e]=[]}),a.balance.total+=a.bet.total,a.bet=k(!1)},accounts:{dealer:A(!0)},getAccountIds:function(){return Object.keys(t().accounts).map(function(e){return e})},createPlayerAccount:function(e){if(!t().accounts[t().uid])return e.accounts[t().uid]=A(),e},getBalance:function(e){return t().accounts[e].balance},getBet:function(e){return t().accounts[e].bet},getBalanceBills:function(e,a){return t().accounts[e].balance.bills[a]},getBetBillKeys:function(e){return Object.keys(t().getBet(e).bills)},getBetBills:function(e,a){return t().accounts[e].bet.bills[a]},getBalanceBillsCount:function(e,a){return t().getBalanceBills(e,a).length},getBetBillsCount:function(e,a){return t().getBetBills(e,a).length},hasBalanceBills:function(e,a){return t().getBalanceBillsCount(e,a)>0},hasBetBills:function(e,a){return t().getBetBillsCount(e,a)>0},shiftBillsDraft:function(e,a,n){var i=t().getBalance(e);if(i.total<parseInt(a))return n;var c=Object.keys(i.bills).find(function(n){return parseInt(n)>parseInt(a)&&t().getBalanceBillsCount(e,n)>0});if(c)return n.accounts[e].balance.bills[c].pop(),n.accounts[e].balance.bills[a]=t().getBalance(e).bills[a].concat(w(Math.floor(parseInt(c)/parseInt(a)),c.toString())),n;for(var r=Object.keys(i.bills).filter(function(e){return parseInt(e)<=parseInt(a)}).sort(function(e,t){return parseInt(t)-parseInt(e)}),s=parseInt(a),l=0;l<r.length;l++){var o=r[l],u=parseInt(o),d=i.bills[o].length;if(0===s)break;var m=Math.floor(s/u),f=N().min([m,d])||d;s-=u*f;var h=(0,b.Z)(i.bills[o]);h.splice(0,f),n.accounts[e].balance.bills[o]=h}return n.accounts[e].balance.bills[a]=t().getBalanceBills(e,a).concat(w(1,a)),n},shiftBills:function(a,n){e(function(e){return t().shiftBillsDraft(a,n,e)})},canBet:function(e,a){return t().accounts[e].balance.total>=a},addBetDraft:function(e,t,a){var n=a.accounts[e].balance.bills[t].pop();return n&&(a.accounts[e].balance.total-=parseInt(t),a.accounts[e].bet.bills[t].push(n),a.accounts[e].bet.total+=parseInt(t)),a},addBet:function(a,n){return e(function(e){return t().addBetDraft(a,n,e)},!1,"bank/addBet/".concat(a,"/").concat(n))},removeBet:function(a,n){return e(function(e){if(t().hasBetBills(a,n)){var i=e.accounts[a].bet.bills[n].pop();i&&(e.accounts[a].bet.total-=parseInt(n),e.accounts[a].balance.bills[n].push(i),e.accounts[a].balance.total+=parseInt(n))}return e},!1,"bank/removeBet/".concat(a,"/").concat(n))},handleBet:function(a,n){t().canBet(a,parseInt(n))&&e(function(e){t().canBet(a,parseInt(n))&&(t().hasBalanceBills(a,n)||t().shiftBillsDraft(a,n,e),t().addBetDraft(a,n,e))},!1,"bank/handleBet/".concat(a,"/").concat(n))}}},E=a(4529),C=a(782),S=a(1381),P=["spades","diamonds","clubs","hearts"],D=["A","10","J","Q","K","2","3","4","5","6","7","8","9",],T=function(){for(var e=[],t=0;t<P.length;t++)for(var a=0;a<D.length;a++)e.push({id:(0,j.Z)(),suit:P[t],name:D[a],value:"A"==D[a]?[1,11]:"J"==D[a]||"Q"==D[a]||"K"==D[a]?[10]:[Number(D[a])]});return e},F=function(e,t){return{deck:T(),getCard:function(e){return e.deck.splice(Math.floor(Math.random()*e.deck.length),1)[0]},returnCards:function(e,t){t.deck=t.deck.concat(e)}}},R=function(e,t){return{uid:(0,j.Z)(),name:"",regenerateUID:function(){e(function(e){return e.uid=(0,j.Z)(),delete e.accounts[t().uid],e.accounts[e.uid]=t().accounts[t().uid],e})},chips:{5:[],10:[],50:[],100:[],500:[]},addChip:function(t){e(function(e){return e.chips[t].push((0,j.Z)()),e})},removeChip:function(t){e(function(e){return e.chips[t].pop(),e})}}},J=function(e,t){return{games:{},activeGameId:"",newGame:function(){return e(function(e){var a=(0,j.Z)();return t().handleCardReturn(e),e.games[a]={players:{dealer:{id:"dealer",cards:[],name:"",isBusted:!1,isBlackJack:!1,isStanding:!1,totals:[0],total:0}},isActive:!0,isFinished:!1,isStarted:!1,isBetting:!1},e.activeGameId=a,e},!1,"table/newGame")},newPlayer:function(a){t().isActiveGame()&&e(function(e){return e.games[e.activeGameId].players[t().uid]={id:t().uid,cards:[],name:a,isBusted:!1,isBlackJack:!1,isStanding:!1,totals:[0],total:0},e.name=a,t().createPlayerAccount(e),e},!1,"table/".concat(t().activeGameId,"/newPlayer/").concat(t().uid))},hitPlayer:function(){e(function(e){var a=t().getPlayer();return a&&(t().hit(a.id,e),t().handleDealerDecision(a.id,e)),e})},standPlayer:function(){e(function(e){var a=t().getPlayer();return a&&(e.games[e.activeGameId].players[a.id].isStanding=!0,t().handleDealerDecision(a.id,e)),e})},handleCardReturn:function(e){if(t().isActiveGame()){var a=e.games[e.activeGameId].players.dealer,n=e.games[e.activeGameId].players[e.uid];a&&n&&(t().returnCards(n.cards.concat(a.cards),e),n.cards=[],a.cards=[])}},handleGameResult:function(e){var t=e.games[e.activeGameId].players.dealer,a=e.games[e.activeGameId].players[e.uid];t&&a&&(e.games[e.activeGameId].isFinished=!0,a.isBusted||t.isBlackJack&&a.isStanding||t.total>a.total&&!t.isBusted?(e.returnBetToBalance("dealer",e),e.transfetBetToBalance(e.uid,"dealer",e)):t.isBusted||t.total<a.total||a.isBlackJack?(e.returnBetToBalance(e.uid,e),e.transfetBetToBalance("dealer",e.uid,e)):t.total==a.total&&(e.returnBetToBalance(e.uid,e),e.returnBetToBalance("dealer",e)))},handleDealerDecision:function(e,a){var n=a.games[t().activeGameId].players[e];if(n.isBusted||n.isBlackJack||n.isStanding){var i=a.games[t().activeGameId].players.dealer;for(i.total>=17&&(i.isStanding=!0);!(i.isBlackJack||i.isBusted||i.isStanding);)t().hit("dealer",a),i.total>=17&&(i.isStanding=!0);t().handleGameResult(a)}return a},hit:function(e,a){return a.games[a.activeGameId].players[e].cards.push(t().getCard(a)),t().handleCardState(e,a),a},handleCardState:function(e,a){t().handleTotal(e,a);var n=a.games[t().activeGameId].players[e].totals;return n.every(function(e){return e>21})?a.games[a.activeGameId].players[e].isBusted=!0:(21===n[0]||n.length>1&&21===n[1])&&(a.games[a.activeGameId].players[e].isBlackJack=!0),a},handleTotal:function(e,a){var n=a.games[t().activeGameId].players[e],i=n.cards.findIndex(function(e){return"A"===e.name}),c=(i>=0?n.cards.filter(function(e,t){return t!==i}):n.cards).reduce(function(e,t){return e+t.value[0]},0);i<0?n.totals=[c]:n.totals=[c+n.cards[i].value[0],c+n.cards[i].value[1],],n.total=N().max(n.totals.filter(function(e){return e<22}))||n.totals[0]},getPlayer:function(){return t().isActiveGame()?t().games[t().activeGameId].players[t().uid]:void 0},getDealer:function(){return t().isActiveGame()?t().games[t().activeGameId].players.dealer:void 0},isActiveGame:function(){return!1==N().isEmpty(t().activeGameId)},isActiveGameStarted:function(){return t().isActiveGame()&&t().games[t().activeGameId].isStarted},isActiveGameBetting:function(){return t().isActiveGame()&&t().games[t().activeGameId].isBetting},isActiveGameReadyToStart:function(){return t().isActiveGame()&&void 0!=t().getPlayer()},isActiveGameFinished:function(){return t().isActiveGame()&&t().games[t().activeGameId].isFinished},startActiveGame:function(){e(function(e){var a=t().getPlayer();return t().isActiveGame()&&a&&(e.games[e.activeGameId].isStarted=!0,e.games[e.activeGameId].isBetting=!1,t().hit(a.id,e),t().hit(a.id,e),t().hit("dealer",e),t().hit("dealer",e),e.games[e.activeGameId].players[a.id].isBlackJack&&t().handleGameResult(e)),e},!1,"table/".concat(t().activeGameId,"/start"))},startActiveGameBetting:function(){return e(function(e){return e.isActiveGame()&&(e.games[e.activeGameId].isBetting=!0),e},!1,"table/".concat(t().activeGameId,"/bet"))},stopActiveGameBetting:function(){return e(function(e){return e.isActiveGame()&&(e.games[e.activeGameId].isBetting=!1),e})}}},_=(0,E.ZP)()((0,S.n)((0,C.mW)((0,C.tJ)(function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,m.Z)({},Z.apply(void 0,(0,b.Z)(t)),F.apply(void 0,(0,b.Z)(t)),J.apply(void 0,(0,b.Z)(t)),R.apply(void 0,(0,b.Z)(t)))},{name:"blackjack",partialize:function(e){return{accounts:e.accounts,deck:e.deck,games:e.games,activeGameId:e.activeGameId,uid:e.uid,name:e.name}}}),{name:"blackjack"}))),M=function(){return _(function(e){return{getBalance:e.getBalance,getBet:e.getBet,getBalanceBills:e.getBalanceBills,getBetBills:e.getBetBills,getBalanceBillsCount:e.getBalanceBillsCount,getBetBillsCount:e.getBetBillsCount,hasBalanceBills:e.hasBalanceBills,hasBetBills:e.hasBetBills,shiftBills:e.shiftBills,canBet:e.canBet,addBet:e.addBet,removeBet:e.removeBet,handleBet:e.handleBet,getAllBetBills:e.getAllBetBills}})},O=function(){return _(function(e){return{isActiveGame:e.isActiveGame(),isActiveGameStarted:e.isActiveGameStarted(),isActiveGameBetting:e.isActiveGameBetting(),isActiveGameReadyToStart:e.isActiveGameReadyToStart(),isActiveGameFinished:e.isActiveGameFinished(),dealer:e.getDealer(),player:e.getPlayer(),isWaitingForBets:!(N().isEmpty(e.uid)||N().isEmpty(e.accounts[e.uid]))&&0==e.getBet(e.uid).total}})},z=a(2253),H=a(872),W=function(e){var t=e.currency,a=e.chips,i=e.handleClick,c=e.showEmptyState,r=e.emptyStateId,s=e.slice,o=(0,l.useCallback)(function(){i&&i(t)},[t,i]),u=ea[t];return(0,n.jsxs)(L,{children:[(s?a.slice(-5):a).map(function(e,t){return(0,n.jsx)(q,{index:t,children:(0,n.jsx)(u,{layoutId:e,onClick:o},e)},"".concat(e,"-").concat(t))}),c&&(0,n.jsx)(Q,{children:(0,n.jsx)(u,{layoutId:"".concat(r,"-").concat(t,"-empty"),onClick:o},"".concat(r,"-").concat(t,"-empty"))}),(a.length>0||c)&&(0,n.jsx)(X,{count:a.length})]})},K=(0,l.memo)(W);function L(e){var t=(0,H.Z)({},e);return(0,n.jsx)(r.E.div,(0,m.Z)({layout:"position",className:"relative w-10 h-10 md:w-12 md:h-12 xl:w-14 xl:h-14 text-[0.65rem]"},t))}function q(e){var t=e.index,a=(0,h.Z)(e,["index"]);return(0,n.jsx)("div",(0,m.Z)({className:"".concat(t>0&&"absolute"," h-full w-full"),style:{top:"-".concat(t<5?5*t:0,"px"),zIndex:t<5?10:0}},a))}function Q(e){var t=(0,H.Z)({},e);return(0,n.jsx)("div",(0,m.Z)({className:" inset-0 z-0 absolute  opacity-50"},t))}function X(e){var t=e.count;return(0,n.jsx)(r.E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.25},className:"flex absolute -bottom-1 w-full justify-center pointer-events-none select-none z-40",children:(0,n.jsxs)("div",{className:"bg-gray-800 bg-opacity-75 rounded-full p-1 px-1.5 text-white text-xs scale-75",children:[t,"x"]})})}function U(e){var t=e.className,a=e.children,i=e.layoutId,c=(0,h.Z)(e,["className","children","layoutId"]);return console.log("inside chip"),(0,n.jsx)(r.E.button,(0,f.Z)((0,m.Z)({whileHover:{y:[-2,0,2,0,-2],transition:{repeat:1/0,bounce:1,duration:.5}},whileTap:{scale:1.15},className:"".concat(t," w-full h-full   cursor-pointer rounded-full border-dashed border-4 relative select-none border-white flex  z-10"),layoutId:i,id:i,layout:"position",transition:{duration:.4}},c),{children:(0,n.jsx)("div",{className:"border-2 border-dashed flex rounded-full w-[85%] h-[85%] m-auto",children:(0,n.jsx)("span",{className:"m-auto text-white font-semibold ",children:a})})}))}var V=(0,l.memo)(function(e){return(0,n.jsx)(U,(0,f.Z)((0,m.Z)({},e),{className:"".concat(e.className," bg-indigo-500"),children:"5"}))}),Y=(0,l.memo)(function(e){return(0,n.jsx)(U,(0,f.Z)((0,m.Z)({},e),{className:"".concat(e.className," bg-blue-500"),children:"10"}))}),$=(0,l.memo)(function(e){return(0,n.jsx)(U,(0,f.Z)((0,m.Z)({},e),{className:"".concat(e.className," bg-red-500"),children:"50"}))}),ee=(0,l.memo)(function(e){return(0,n.jsx)(U,(0,f.Z)((0,m.Z)({},e),{className:"".concat(e.className," bg-yellow-600"),children:"100"}))}),et=(0,l.memo)(function(e){return(0,n.jsx)(U,(0,f.Z)((0,m.Z)({},e),{className:"".concat(e.className," bg-gray-800"),children:"500"}))}),ea={5:V,10:Y,50:$,100:ee,500:et},en=function(e,t){var a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4?arguments[4]:void 0;return Object.keys(e).map(function(r){return i||0!==e[r].length?(0,n.jsx)(K,{chips:e[r],currency:r,handleClick:t,showEmptyState:i,emptyStateId:c,slice:a},r):null})},ei=new z.AvatarGenerator;function ec(){var e=O(),t=e.player,a=e.isActiveGameBetting,i=e.isActiveGameStarted,c=e.dealer,r=e.isActiveGameFinished,s=M(),l=s.getBet,o=en((s.getBetBillsCount,s.getBalanceBillsCount,s.getBalance)("dealer").bills),m=en(l("dealer").bills,void 0,!1);if(void 0==t||void 0==c)return(0,n.jsx)(u,{});var f=t.isBusted||t.isBlackJack||t.isStanding||r;return(0,n.jsx)(d,{isDealer:!0,id:"dealer",name:"Dealer",img:ei.generateRandomAvatar("DEALER"),balance:(a||i)&&o,bets:(a||i)&&m,isActive:i,children:(0,n.jsxs)(p,{children:[(0,n.jsx)(y,{hand:c.cards,showCards:f}),f&&(0,n.jsx)(B,{totals:c.totals})]},"dealer-cards")})}function er(e){var e=null!==e?e:(0,i.Z)(TypeError("Cannot destructure undefined")),t=_(function(e){return{deck:e.deck}}).deck,a=M().getAllBetBills,c=O().isActiveGameBetting,r=en(a(),void 0,!1);return(0,n.jsxs)(v,{children:[t.map(function(e,t){return(0,n.jsx)(g,{layoutId:"card-".concat(e.suit,"-").concat(e.name,"-").concat(e.id),isRed:"hearts"==e.suit||"diamonds"==e.suit,index:t,children:(0,n.jsx)(x,(0,m.Z)({},e),"card-".concat(e.suit,"-").concat(e.name))},"card-".concat(e.suit,"-").concat(e.name,"-").concat(e.id))}),!c&&(0,n.jsx)("div",{className:"flex space-x-5",children:r})]})}var es=a(2175),el=(0,r.E)(es.l0),eo=function(e){return(0,n.jsx)(el,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:" flex h-full justify-center space-x-5 items-center ",children:e.children},"player-form")},eu=function(e){return(0,n.jsxs)("div",{className:"space-y-0.5 py-0.5 flex flex-col ",children:[(0,n.jsx)("label",{className:"text-sm text-gray-100 font-semibold",htmlFor:e.name,children:e.title}),(0,n.jsx)(es.gN,(0,m.Z)({id:e.name,className:"py-1 px-2 rounded-lg outline-none text-xs shadow border-gray-200 bg-green-700  border-dashed border-2 focus:opacity-100 text-gray-100 opacity-75 "},e))]})},ed=function(e){return(0,n.jsx)(r.E.button,(0,f.Z)((0,m.Z)({initial:{y:50},animate:{y:0},exit:{y:50,opacity:0},className:" text-green-900 inline w-36  text-xs md:text-sm shadow-lg lg:text-base border-green-900 bg-white border-dashed border-2 rounded-lg font-semibold ".concat(e.disabled?"opacity-25":"opacity-75 hover:opacity-100","  ").concat(e.xs?"py-1  xl:py-1.5":"py-2  xl:py-3")},e),{children:e.children}))};function em(e){return(0,n.jsx)(r.E.div,(0,m.Z)({layout:!0,className:"h-[10%] w-full bg-green-900 p-2 justify-center space-x-5 flex items-center"},e))}var ef=a(4231);function eh(){var e=O(),t=e.isActiveGame,a=e.isActiveGameStarted,i=e.isActiveGameBetting,r=e.isWaitingForBets,s=e.isActiveGameFinished,l=_(function(e){return{newGame:e.newGame,newPlayer:e.newPlayer,startBetting:e.startActiveGameBetting,stopBetting:e.stopActiveGameBetting,startGame:e.startActiveGame,hitPlayer:e.hitPlayer,standPlayer:e.standPlayer}}),o=l.hitPlayer,u=l.newGame,d=l.stopBetting,m=l.startGame,f=l.newPlayer,h=l.startBetting,v=l.standPlayer,g=_(function(e){return{uid:e.uid,name:e.name}}).name;return(0,n.jsx)(em,{children:(0,n.jsx)(c.M,{exitBeforeEnter:!0,children:t?s?(0,n.jsx)(ed,{onClick:function(){u(),f(g),h()},children:"Start Another Game"},"start-button"):a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ed,{onClick:function(){return v()},children:"Stand"}),(0,n.jsx)(ed,{onClick:function(){return o()},children:"Hit"})]}):i?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ed,{onClick:function(){d()},xs:!0,children:"Go Back"},"go-back-button"),(0,n.jsx)(ed,{disabled:r,onClick:function(){m()},children:"Confirm Bets"},"confirm-bet-button")]}):(0,n.jsx)(es.J9,{initialValues:{name:g},validationSchema:ef.Ry({name:ef.Z_().required("Name is required")}),onSubmit:function(e,t){f(e.name),h(),t.resetForm()},children:(0,n.jsxs)(eo,{children:[(0,n.jsx)(eu,{name:"name",title:"Name"}),(0,n.jsx)(ed,{type:"submit",xs:!0,children:"Start Game"})]})}):(0,n.jsx)(ed,{onClick:function(){u()},children:"Start Game"},"start-button")})})}var ev=new z.AvatarGenerator;function eg(){var e=O().player;return void 0==e?(0,n.jsx)(u,{}):(0,n.jsx)(ex,{player:e})}function ex(e){var t=e.player,a=O(),i=a.isActiveGameBetting,c=a.isActiveGameStarted,r=M(),s=r.getBalance,o=r.getBet,u=r.handleBet,m=r.removeBet,f=(0,l.useCallback)(function(e){t&&t.id&&(u(t.id,e),u("dealer",e))},[t,u]),h=(0,l.useCallback)(function(e){t&&t.id&&(m(t.id,e),m("dealer",e))},[t,m]),v=en(s(t.id).bills,f,!1,!0,"player"),g=en(o(t.id).bills,h);return(0,n.jsx)(d,{isDealer:!1,id:t.id,name:t.name,img:ev.generateRandomAvatar(t.id),balance:(i||c)&&v,bets:(i||c)&&g,isActive:c,children:(0,n.jsxs)(p,{children:[(0,n.jsx)(y,{hand:t.cards,showCards:!0}),(0,n.jsx)(B,{totals:t.totals})]},"player-cards")})}var ep=a(9008),ey=a.n(ep),eB=function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(ey(),{children:[(0,n.jsx)("title",{children:"Black Jack Game"}),(0,n.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"})]}),(0,n.jsxs)(o,{children:[(0,n.jsx)(s,{}),(0,n.jsx)(ec,{}),(0,n.jsx)(er,{}),(0,n.jsx)(eg,{}),(0,n.jsx)(eh,{})]})]})}},5042:function(){}},function(e){e.O(0,[662,121,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);